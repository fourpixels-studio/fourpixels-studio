{% extends 'base.html' %}
{% block body %}
{% load static %} 
<form method="post" enctype="multipart/form-data" onsubmit="showSpinner()">
{% csrf_token %}
    <main class="container-fluid py-5 px-4">
        <div class="row gy-4 justify-content-center pt-4">
            <h1 class="text-dark fw-500 mb-0">Update Project: {{ project.name }}</h1>
            <div class="col-12">
                <div class="bg-white p-3 rounded-1 border">
                    <div class="row mb-3">
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Name</label>
                            <div>{{ form.name }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Client</label>
                            <div>{{ form.client }}</div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Category</label>
                            <div>{{ form.category }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Company Category</label>
                            <div>{{ form.company_category }}</div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">What we did</label>
                            <div>{{ form.what_we_did }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Description</label>
                            <div>{{ form.description }}</div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="text-muted small mb-1 fw-300">Content</label>
                        <div>{{ form.content }}</div>
                    </div>
                    <div class="mb-3 row align-items-center">
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Link Name</label>
                            <div>{{ form.link_name }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Status</label>
                            <div class="border rounded-1 p-2">
                                <div class="d-flex flex-row gap-4">
                                    <div class="d-flex flex-row gap-1">
                                        <div>{{ form.highlight }}</div>
                                        <label class="text-muted small fw-300">Highlight</label>
                                    </div>
                                    <div class="d-flex flex-row gap-1">    
                                        <div>{{ form.show_in_porfolio }}</div>
                                        <label class="text-muted small fw-300">Show in portfolio</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Website Link</label>
                            <div>{{ form.website_link }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Blog Link</label>
                            <div>{{ form.blog_link }}</div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small fw-300">App Link</label>
                            <div>{{ form.app_link }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <label class="text-muted small mb-1 fw-300">Image Placeholder</label>
                            <div>{{ form.image_placeholder }}</div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-sm-12 col-lg-5">
                            <label class="text-muted small mb-1 fw-300">Similar Projects</label>
                            <div>{{ form.similar_projects }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-5">
                            <label class="text-muted small mb-1 fw-300">Testimonial</label>
                            <div>{{ form.testimonial }}</div>
                        </div>
                        <div class="col-sm-12 col-lg-2">
                            <label class="text-muted small mb-1 fw-300">Date</label>
                            <div>{{ form.year }}</div>
                        </div>
                    </div>
                    <div class="gy-3 row">
                        <div class="col-lg-6 col-sm-12">
                            <div class="border rounded-1 px-3 py-2 bg-light">
                                {% if project.logo %}
                                <label class="text-muted small mb-1 fw-300">Current Logo</label><br>
                                <img src="{{ project.logo.url }}" style="height: 80px; width: 80px; object-fit: cover" alt="{{ project.name }}'s Logo" class="img-fluid">
                                {% else %}
                                <h6 class="text-danger">No Logo Selected</h6>
                                {% endif %}
                                <input type="file" class="form-control mt-2" name="{{ form.logo.name }}" id="{{ form.logo.id_for_label }}">
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-12">
                            <div class="border rounded-1 px-3 py-2 bg-light">
                                {% if project.cover %}
                                <div class="d-flex flex-row justify-content-between align-items-center">
                                    <label class="text-muted small mb-1 fw-300">Current Cover Image</label>
                                    <div class="form-check d-flex flex-row gap-1 align-items-center">
                                        <input class="form-check-input hover" type="checkbox" name="cover-clear" id="cover-clear_id">
                                        <label class="form-check-label mt-1 hover small text-muted fw-300" for="cover-clear">Delete</label>
                                    </div>
                                </div>
                                <img src="{{ project.cover.url }}" style="height: 80px; width: auto; object-fit: cover" alt="{{ project.name }}'s cover" class="img-fluid">
                                {% else %}
                                <h6 class="text-danger">No Cover Image Selected</h6>
                                {% endif %}
                                <input type="file" class="form-control mt-2" name="{{ form.cover.name }}" id="{{ form.cover.id_for_label }}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex mt-4 flex-row align-items-center justify-content-center gap-2">
                <button type="button" onclick="goBack()" class="btn btn-outline-primary rounded-1 px-3">Discard</button>
                <button id="submit-btn" type="submit" class="btn px-3 btn-primary rounded-1">
                    <span id="submit-text">Update Project</span>
                    <span id="spinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </main>
</form>
{% endblock %}